![](https://pic4.zhimg.com/v2-6ae548a51a08e5278e6527294afe0d83_r.jpg)

各位鹿友新年好，虎年的第一篇文章来晚了一些，抱歉，最近不知道为什么，睡眠不是很好：

![](https://pic4.zhimg.com/v2-d90500b39de15b5d73a6e1d17a1293c3_r.jpg)

然后到INS上去找找有没有可以临摹的案例，看到我多次临摹的大神**@BastardFilms**以前的一个布料动态效果：

![](https://pic3.zhimg.com/v2-631974b3884ad4a481f20af8e9ea753e_r.jpg)

我这里稍微把加速一下压缩成动图大家看看效果吧：

![](undefined)

这个类似裹铺盖的效果很像失眠的我啊，所以打算试试这个效果，原作者这里可能只是测试，所以有两个明显穿模的地方：

![](https://pic3.zhimg.com/v2-ec1a4240afacac0f85f1eb648dba808a_r.jpg)![](https://pic3.zhimg.com/v2-27b58e5d967ffe3f6a8176cd1afa6726_r.jpg)

本以为作者是用XP模拟的布料，感觉好像很难，不好做出来。

**然后春节期间我刚好笼统的把Marvelous Designer基础知识过了一遍，心想着可以着手试试MD，原作者穿模的问题应该也能解决。**

结果当我再仔细看英文原文介绍的时候，才发现原作者就是用的MD做的：

![](https://pic1.zhimg.com/v2-3894c880162d72f3c939ae833e3bc400_r.jpg)

虽然MD这款软件现在使用的人已经很多了，但是由于我是才刚开始学习，也从来没写过相关的文章，所以这里先简单的说一句。

**大家都知道C4D的布料系统是十分差劲的，即便使用XP粒子来模拟布料，也很慢并且很容易出现穿插。**

Marvelous Designer是韩国开发的一款专门制作服装的独立软件，所以在模拟布料方面是它的强项。

**使用MD模拟出来的布料细节是用C4D默认的布料系统做不到的，而且相比C4D和XP来说，它要快的多：**

![](https://pic1.zhimg.com/v2-28bfead189f4f35fd30357cd7f960604_r.jpg)

**当然也是由于它是专门制作服装的软件，所以也有自己的短板，例如它自己是没有刚体或者流体的概念的，灵活性不够强，并且软件本身是没有布料撕裂的。**

但由于MD与C4D的配合十分好，所以要解决上述问题就可以结合着C4D来解决，例如要进行布料和对象碰撞或者布料撕裂就可以搭配着C4D来完成，要进行流体和布料的交互可以尝试搭配着XP来完成。

然后在使用这款软件之前我们要有一个概念，虽然它是专门制作服装的软件，但是我们除了可以使用它来做衣服之外，也可以只单单模拟布料效果。

**例如今天要临摹的案例，就仅仅使用到了MD的布料模拟部分，今天要介绍的MD功能也仅限于案例使用到的部分。**

好了，废话了这么多，后面的我们边说边做，一起踏上MD的初体验之旅吧！

![](https://pic2.zhimg.com/v2-29972d51c8ff091e19931910625efd1d_r.jpg)

01

**MD初次使用注意事项**

**首先我在Mixamo网上找到了原作者的同款骨骼动画，然后随便找了一个人物模型。**

除了调整了一下动画的速度没有做其他更改，下载FBX格式的就行，骨骼动画文件文后也会分享给大家：

![](https://pic4.zhimg.com/v2-7d9832c24bbb359f5dab44f177f4d383_r.jpg)

然后打开Marvelous Designer，我这里用的是MD11，安装包网上搜一下就有，当然我这里也会把安装包一起分享出来：

![](https://pic4.zhimg.com/v2-51817dd6bc0b050ac7e898233b8fde0b_r.jpg)

**接下来是一些新手向的操作，使用C4D的鹿友们初次使用MD，有些步骤需要先注意一下，否则你操作会很不习惯。**

首先检查一下设置/用户自定义里，坐标是否是世界坐标，如果不是的话就改为世界坐标：

![](https://pic1.zhimg.com/v2-3f91b90d7bdc1f9a81392a532e0b3d88_r.jpg)

**然后再用户自定义里的视图控制里，把这些操作方式改成和我这里一样的。**

修改以后需要重启一下软件，这样平移旋转等操作习惯就和C4D是一样的了：

![](https://pic2.zhimg.com/v2-9efca50dfddf3144c72b13515a5d25f1_r.jpg)

接下来在文件里选择导入FBX文件：

![](https://pic2.zhimg.com/v2-d8c422868919f1646696ac730d5da509_r.jpg)

**这里记得视频和动画选项都要打勾，大小默认的单位我记得是mm，需要把它改为cm。**

因为mixamo下载的人物模型基本都是180cm的正常尺寸，如果尺寸改小了布料模拟会出问题，其他不用管点击ok就行：

![](https://pic1.zhimg.com/v2-f85bde1be8efa4a7a83bb43be1599948_r.jpg)

不放心的话可以使用虚拟模特里的表面长度测量一下：

![](https://pic4.zhimg.com/v2-406237441228da9d7f6ef583f9da7b43_r.jpg)

可以看到基本就是在180cm左右：

![](https://pic2.zhimg.com/v2-89134402f87d5a031493e907e0f8d425_r.jpg)

MD的操作界面左侧是3D视图，右侧是2D视图，我们可以首先在2D视图里使用长方形工具创建一个板片，大家简单理解为创建一块布就行：

![](https://pic2.zhimg.com/v2-620dfd3475bd49d4122ea1df7248a5d9_r.jpg)

选中长方形工具，在2D视图空白处单击点一下，可以弹出一个窗口设置尺寸，当然你直接自己画长方形也可以，我这里设置的尺寸是3.5m\*3.5m：

![](https://pic1.zhimg.com/v2-226b75a6d5ec92d7b2426ac2869280a4_r.jpg)

然后在3D视图中选中板片旋转一下：

![](https://pic2.zhimg.com/v2-df1803521ae00b2db2da0f5603421065_r.jpg)

点击空格键就开始模拟了，因为MD默认是自带重力的，布料就会因为受到重力的原因下落和模型发生交互，再次点击空格键模拟就会停止：

![](https://pic2.zhimg.com/v2-e9da7ffa054c5961cb80b2f679b06235_r.jpg)

这个时候如果你把布料往上移动一下，然后再次按空格键模拟，软件就会以刚才的状态为初始状态继续往后模拟：

![](https://pic4.zhimg.com/v2-d0aaa2555a3f7e77ef6ed2e32239dfe7_r.jpg)

选中布料鼠标右键重置3D位置，布料就会回到模拟之前的状态，快捷键是康秋F：

![](https://pic4.zhimg.com/v2-9f9c01ed862b01c766e9c6c140c4f4ff_r.jpg)

**需要注意的是，目前只是模拟布料和静态物体发生交互的状态，我们导入的模型这里是看不到动画的。**

要动画模拟的话可以点击下方的小三角调出动画时间窗口，修改一下动画时长，然后点击录制键开始模拟：

![](https://pic4.zhimg.com/v2-49cc84f321c7345350a723d0d20ff13f_r.jpg)![](https://pic2.zhimg.com/v2-29972d51c8ff091e19931910625efd1d_r.jpg)

02

**本文案例注意事项**

**接下来我们再说一下本次案例主要会涉及到几个参数面板，因为我觉得初次使用MD的鹿友可能会找不到在哪里修改参数。**

首先鼠标选中我们导入的虚拟模特，这里可以修改虚拟模特的相关属性，其中表面的一些参数是我们这个案例会用到的：

![](https://pic4.zhimg.com/v2-f7444febcabc879ad3e3985fe56d8c73_r.jpg)

选中板片，这里会有一些布料的模拟属性，也是我们会用到的：

![](https://pic4.zhimg.com/v2-d8f6807eb1ad4a8dfbdd312b146c8caf_r.jpg)

右上角选中织物，这个织物大家简单理解为材质就行，然后里面会有一些物理属性用于控制布料的变形程度以及重量之类的：

![](https://pic1.zhimg.com/v2-be442f7dcc5ea75f685ce18ae586a24c_r.jpg)

基本描述完毕我们进入模拟的环节吧，首先我们可以先把布料的显示方式切换为线框表面观察一下布料精度：

![](https://pic1.zhimg.com/v2-9e57a9940490332f2fd9ba06e0665ae4_r.jpg)

可以看到我们目前创建的这个布料默认粒子间距20的精度已经挺高的了，不过面都是三边面：

![](https://pic1.zhimg.com/v2-bd733c73e72e05344014c65ec0968aa0_r.jpg)

默认情况下MD的布料都是三边面，并且大部分情况下就是用三边面就可以了。

**但是我自己在制作这个案例的时候，觉得使用四边面的褶皱效果会更顺滑一点。**

所以选中布料，里面会有一个重置网格的选项，激活以后稍微等待片刻，会自动帮你拓扑为四边面：

![](https://pic2.zhimg.com/v2-38d461ef0b81db1f037d5be3abd623d9_r.jpg)

然后点击空格键模拟，让布料与虚拟模特产生交互，这里大家可以按照前面说的，让布料多次往上移动以后重复模拟：

![](https://pic1.zhimg.com/v2-8e4bd4194d9db4e13a6caf7eb93fee34_r.jpg)

选择一个比较好的初始状态以后，就打开时间线窗口进入动画模拟测试一下。

**可以看到目前的布料动画最严重的问题就是与虚拟模特发生了穿插，其次是布料很软，而我们临摹的案例布料感觉有点硬：**

![](https://pic1.zhimg.com/v2-d6f71fc899bbb63a790b0627886c7c74_r.jpg)

**我其实在自己尝试的时候也是解决穿插问题花了很长时间，我总结的MD要解决穿插问题通常是通过三个方面去解决，但是各自又都有各自的弊端。**

首先是提高布料的模拟精度，即将布料模拟属性里的粒子间距降低，但是这样模拟起来就会更慢，过低的数值还可能会导致软件卡死。

其次是提高模拟属性里的冲突厚度，但是数值设置过高反而可能会导致布料不太稳定而抖动：

![](https://pic3.zhimg.com/v2-a31dc0b808c2df5967dba49825f7ba76_r.jpg)

最后是提高虚拟模特的表面距离，这个数值设置过高的话就会导致布料与虚拟模特有明显的间距，当然我们这个案例倒是影响不大：

![](https://pic1.zhimg.com/v2-b2011eccc6fd307db8f760e02770a3b4_r.jpg)

但是以上只是正常情况下的三种解决方案，我自己在测试的时候发现通过修改上方三个参数以后布料没穿插了。

但是当我修改了织物的物理属性以后，穿模的情况又出现了。

**看来穿插问题还和布料的硬度质量等有关系，所以我觉得先调整好织物的物理属性最后再来解决解决穿插的问题会比较好一点。**

![](https://pic2.zhimg.com/v2-29972d51c8ff091e19931910625efd1d_r.jpg)

03

**MD织物物理属性详解**

**接下来我们说明一下织物的物理属性，大体上我们可以物理属性分为五组。**

第一组经/纬纱-强度以及对角线张力，分别控制着布料水平，垂直以及对角线的拉伸程度。

数值越大越不容易拉伸，越容易生成褶皱，反之容易拉伸则生成的褶皱不容易维持：

![](https://pic4.zhimg.com/v2-b215f337c0863162f9d6d7512e1f871f_r.jpg)

第二组是经/纬纱弯曲强度，数值越高，布料越不容易弯曲因此看起来越硬，反之亦然：

![](https://pic4.zhimg.com/v2-51bd61f15bb95e97d644a2e56477d587_r.jpg)

第三组是经/纬纱变形率，数值越高越容易变形，褶皱越不容易维持，反之亦然：

![](https://pic2.zhimg.com/v2-1d6b7e046e7d3289dbcdf3fb44cfe295_r.jpg)

第四组是经/纬纱变形强度，官方教程的说明是布料弯曲后的变形强度，数值越低褶皱越细：

![](https://pic3.zhimg.com/v2-2c05b5257ea92d28e89753de637e63b2_r.jpg)

**最后一组很好理解，这里就不做对比了，内部阻尼官方文档解释是数值越高布料就好像在水里，对模拟服装影响并不大，主要在制作动画，服装发生抖动时调整内部阻尼。**

密度就是布料的质量，摩擦系数指的是布料与布料之间的摩擦力：

![](https://pic1.zhimg.com/v2-867a5b740e319ad2c02ff4bf8a835d34_r.jpg)

**以上就是MD织物物理属性的详细解释啦，估计大家看完也还是有点懵不知道该怎么快速调整布料的属性吧。**

没关系，官方这里其实是给了我们很多预设可以进行选择的：

![](https://pic4.zhimg.com/v2-e334b5c40108ddec9147178798acab57_r.jpg)

**不过大家可能又会觉得是英文搞不懂，其实我看见网上也有汉化的预设的。**

不过对于面料不了解的人来说即使是汉化的预设名字也不太直观的，没关系，在左侧会有一个叫做织物的预设文件夹：

![](https://pic1.zhimg.com/v2-befa376ee4f62b36be5ed2ba91c03e28_r.jpg)

点进去鼠标停留在缩略图上就可以看到布料的预览图啦，然后大家根据自己的需求在物理属性中选择对应的名字就可以了：

![](https://pic4.zhimg.com/v2-3445611937cfd5072f1803aedb762087_r.jpg)

例如我这里选择的是一款叫RibRib\_1X1\_486gsm的预设先模拟一下：

![](https://pic2.zhimg.com/v2-08bb2760b56c00879d3b0712b0ffab7d_r.jpg)

然后我现在觉得褶皱过于多了一点，就直接将第一组强度对角线张力的数值都减少了20感觉就差不多了：

![](https://pic1.zhimg.com/v2-6bf1b879cff33c36bc9c4350a01fdd24_r.jpg)![](https://pic2.zhimg.com/v2-29972d51c8ff091e19931910625efd1d_r.jpg)

04

**布料穿插问题**

**布料的物理属性我觉得差不多了，现在咱们再来解决穿插的问题吧。**

**我这里优先调整的是虚拟模特的表面距离，同时我降低了一点摩擦力。**

模拟一下可以看到穿插问题得到了改善，但是可能是有个动作幅度比较大，导致手的部分又穿插了：

![](https://pic4.zhimg.com/v2-0308ded0ff3263227760211308ec417f_r.jpg)

**接下来选中布料，我提高了布料模拟属性里的冲突距离，同时由于我看原图的边缘好像比较硬直，所以我把边缘弯曲率降低了一些。**

模拟一下可以看到穿插的问题已经没有了，但是又出现了布料存在破面的新的问题：

![](https://pic1.zhimg.com/v2-d5316c691742067a1a840b3c66b7f174_r.jpg)

这种如果是静帧的话模拟时候可以直接拖动一下布料就好了，但是动画里不太好弄。

**我尝试过提高布料的精度也没有改善，提高以后一方面本来布料的精度就足够了，再次提高会很卡。**

另外一方面很迷的地方是已经解决了的穿插问题反而又再次出现了。

**再次修改之前调整过的那些参数无非是又再次陷入穿插的死循环。**  

所以这个地方我尝试了很久，最后终于找到解决的方案修改模拟的方式。

**MD这里有三种模拟方式，默认情况下我们用的是普通，GPU模拟的话速度最快但是不太准确并且官方说明是不适用于动画。**

于是我将模拟方式改为第三种试穿面料属性计算，这种方式模拟更加准确，并且拉伸也更加真实：

![](https://pic2.zhimg.com/v2-490803d8f137aea3fd50f4c3e04dc741_r.jpg)

虽然模拟的速度会比普通慢一些，但是破面的问题完美解决：

![](https://pic2.zhimg.com/v2-6b5c3341e4843cd201f1d0c042f6d8ed_r.jpg)

基本上这样MD模拟的部分就完成了，选择布料选择导出为ABC文件吧，UV纹理我们不需要，比例记得还是选择厘米就好：

![](https://pic4.zhimg.com/v2-8a0565bdb8aed5d52b04d72a4d85cd17_r.jpg)

05

**C4D渲染部分**

将模特动画和MD导出的布料文件合并到一个场景里，你会发现所有的参数都无法调整：

![](https://pic3.zhimg.com/v2-ea8adfda9cbaecd430b7516ef793073a_r.jpg)

没关系，我们将mixamo场景文件转换成新的c4d场景文件就可以了：

![](https://pic2.zhimg.com/v2-50ed2e76b9a19367a2d4b2511c512209_r.jpg)

现在的布料看起来有很多锯齿，把平滑着色的标签角度改高就好多了：

![](https://pic3.zhimg.com/v2-59646fd8f46ac2bec8b91c05fb7079c6_r.jpg)

添加布料曲面增加厚度，细分曲面增加1级细分，然后再新建个地面这个不用多说哈：

![](https://pic1.zhimg.com/v2-c75dc70a1466a52125b5c22d37018d30_r.jpg)

接下来就是渲染部分了，这个渲染很简单的，打开RS，新建摄像机，设置渲染尺寸以及固定视角不用多说哈，色彩空间我还是用的线性：

![](https://pic2.zhimg.com/v2-e42d31886753c3b52d77934d0558b871_r.jpg)

新建一个环境光：

![](https://pic3.zhimg.com/v2-2235b0c16069f09621e86d60a28cf9fe_r.jpg)

布料的材质就是一个普通的反射材质，只不过我连接了一个噪波节点到反射的强度上：

![](https://pic3.zhimg.com/v2-58fcd3f232eea9b2ab579cd825b5c732_r.jpg)

地面和模特的材质就是普通的白色反射材质：

![](https://pic4.zhimg.com/v2-f94e26f20bc4e7c279682b15b0055853_r.jpg)

补两盏灯吧：

![](https://pic2.zhimg.com/v2-89df084af8accb43880537b2c547197d_r.jpg)

我给布料又添加了一个RS的对象标签并且勾选了细分：

![](https://pic4.zhimg.com/v2-35ce4d6da8105362bfb64bd4fd79c973_r.jpg)

然后我把帧速率改为了常规的25：

![](https://pic3.zhimg.com/v2-6fe0225016b96677f9527559cf7d72e2_r.jpg)

采样设置方面由于场景很简单，所以最大最小主采样我设置的是16/512，其他本地采样都是1024，并且开启了单次降噪：

![](https://pic3.zhimg.com/v2-b0c16446d48272d9ee067cfeb08552b2_r.jpg)

渲染总时长不到6个小时：

![](https://pic3.zhimg.com/v2-86b101af1f6f2c7bfd75daaa76fb2c6e_r.jpg)

最后后期调整一下看看效果吧：

[![](https://pic3.zhimg.com/v2-6b742a35a0b6cb2e3b617f4fb2b7bb00.jpg?source=382ee89a)](https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1475849870452453376)

**写得好累啊，这个效果看着简单，但实际动手的时候就知道要解决穿插的问题还是不容易的，主要还是因为角色动画的某些动作幅度比较大吧。**

可能是模特表面间距比较大和织物物理属性的原因，今天的篇幅比较长，但是单纯制作的部分不长的。

**只是由于第一次写MD的内容，所以我写的比较详细，下面是今天的视频版：**  

[![](https://pic1.zhimg.com/v2-3d1febe3b15cec4fa2e9b4eee8aa8cd6.png)](https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1475849921262145536)

好啦，今天的内容就到这里，想要源文件以及原视频的鹿友后台**撩我**获取吧！

  
更多内容欢迎关注公众号：

公众号：野鹿志

老鹿微信：maluyelang6661

苦七微信：766057766

本文由“野鹿志”发布

转载前请联系马鹿野郎

私转必究