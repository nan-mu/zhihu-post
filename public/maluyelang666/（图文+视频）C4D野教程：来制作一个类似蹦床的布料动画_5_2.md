![](https://pic3.zhimg.com/v2-18daf1d589eb107b863bab385803fd8e_r.jpg)

好多天没更新了，到外地半事半游在洞里修仙了一周：

![](https://pic2.zhimg.com/v2-2d3fd6068b411f397a522fe3ee71eddd_r.jpg)

是时候回来写一篇了，分享一个最近刚学到的技法吧，这个是我在油管上看到的国外大神**@Chris Schmidt**在2019 NAB Show上分享的方法：

![](https://pic3.zhimg.com/v2-092323e9e2da7c46c1025951cb683ce2_r.jpg)

**我们都知道在C4D里当对象添加了布料标签以后，对象是无法移动的，使用这种方法可以制作出类似蹦床的布料效果，去与其他对象发生碰撞交互。**

这里强烈建议各位鹿友可以在网上去查看历届的NAB Show来观摩学习，这里汇集了全球的C4D大神，比如我们比较熟知的EJ大神：

![](https://pic1.zhimg.com/v2-398e8a981612a5e234a02f5aceab5804_r.jpg)

在琳达的教程里经常看见的Andy Needham：

![](https://pic4.zhimg.com/v2-67c38398d5a2e5b115181f186b574a6f_r.jpg)

以及灰猩猩GSG：

![](https://pic4.zhimg.com/v2-de8eb93c567156964c0235f5ef6328e7_r.jpg)

**在NAB Show上，大神们会分享一些他们的软件使用心得，虽然不是完整的案例教程，但是如果根据大神们的分享细心尝试，你一定会收获很多。**

开始正题之前再啰嗦一句，因为我最近在学RS，出去一周多回来发现学习的东西全都忘完了，还是要经常使用才会慢慢熟悉起来。

所以材质灯光以及渲染部分我是强迫自己使用RS胡乱弄的，不会RS的鹿友用OC也是可以的。

**好了，不多说废话了，让我们一起来看看如何制作出类似蹦床的布料动画吧！**

![](https://pic2.zhimg.com/v2-29972d51c8ff091e19931910625efd1d_r.jpg)

打开C4D，新建一个平面，因为我们要使用动力学模拟，这里分段可以少一点，并不会影响最终效果：

![](https://pic4.zhimg.com/v2-9cfc5475ac7b31780be0f1fb229e0d9f_r.jpg)

新建一个球体，尺寸缩小一点，分段同样也可以少一点：

![](https://pic4.zhimg.com/v2-602a678761fb83b635a3ea0fde29db4b_r.jpg)

新建克隆，克隆模式为对象，以平面作为对象克隆球体，分布为顶点：

![](https://pic2.zhimg.com/v2-374920afd3fc2fa98f26bd1f0a13265d_r.jpg)

给克隆对象添加模拟柔体标签：

![](https://pic3.zhimg.com/v2-dbc86694a760cfdae4fe561330d4a2d2_r.jpg)

柔体面板里记得改为由克隆构成，不然会很卡：

![](https://pic3.zhimg.com/v2-cabdf6de93e1101103668448437935a2_r.jpg)

这个时候点击播放，因为动力学收到重力的原因，所有克隆的球体就会下落：

![](https://pic2.zhimg.com/v2-a763770dee04a4c6e363144e70e39391_r.jpg)

接下来选中克隆对象，然后执行运动图形-运动图形选集：

![](https://pic3.zhimg.com/v2-2bfde71d8d8cf36bac63f274c601ce2e_r.jpg)

按住谢福特键加选四个角上的点，你可以得到一个运动图形选集的标签：

![](https://pic4.zhimg.com/v2-f9701a45777e1c573ea71b65c887fb37_r.jpg)

选中柔体标签，在动力学栏位把运动图形选集拖进去，不过这个时候点击播放，你会发现还是所有的对象都会下落：

![](https://pic2.zhimg.com/v2-ee8cff6f392c2cc9fac506720e334ab5_r.jpg)

回到柔体标签里，在碰撞栏位，把独立元素切换为全部，点击播放键你就会看见只有四个角上的对象在动了：

![](https://pic4.zhimg.com/v2-efa09a71ebada5bcca17b1a0e0e3ab27_r.jpg)

再回到运动图形选集标签里，点击反向选择，这个时候再播放你就会发现克隆像布料一样，四角固定中间会下落了：

![](https://pic4.zhimg.com/v2-ae29ffe28c31da1fdae9999f52acef5b_r.jpg)

并且这个时候你移动平面的位置，会发现克隆的所有对象也会跟着移动，这就打破了直接用布料模拟不能移动对象的限制：

![](https://pic3.zhimg.com/v2-8ab203b5adf7c537da529bbb142df97a_r.jpg)

克隆上的物体的运动形态做好了，如果我们能够让克隆对象上的每个物体对应的去影响平面点的位置，那么平面的运动形态就是我们想要的。

**这里需要借助xpresso，看来想要做更多有趣的动态效果，学习xpresso的知识是必不可少啊。**

先把平面复制一份出来，C掉，这样平面上点的位置就和克隆对象上的数量是一致的：

![](https://pic2.zhimg.com/v2-291bb201af8cce14b8a5deedb3245eed_r.jpg)

接下来给平面添加xpresso标签，把克隆拖进来添加对象端口，然后在运动图形分类里找到数据节点，将他们连接上：

![](https://pic1.zhimg.com/v2-a14c8ad3cc6ce5e6cc1a1f81db7ca75c_r.jpg)

操作到这里说一下原理，克隆上的每一个物体都是有它对应的编号的，也就是索引，把克隆对象显示改为索引就可以看到，从0到143拢共144个对象：

![](https://pic2.zhimg.com/v2-02d739f8a9029e39fe05af0d3bda6239_r.jpg)

而这144个对象在动画的状态下每一帧的位置都是不一样的，想要把这些对象的信息循环输出给平面点的位置，就需要借助一个重要的节点：迭代节点。

**这里首先介绍一下迭代节点的作用吧，如图所示新建一个迭代节点，迭代节点是从0开始计算的，而克隆物体的数量是从1开始计算的。**

所以我们这里需要再新建一个数学节点，让它在数量上减去1，然后再连接给迭代的终点，代表着每帧将克隆的数量从0到143进行输出：

![](https://pic4.zhimg.com/v2-2cf7dc028c132039a8a20dedfec31567_r.jpg)

为了证实这一点，我们在系统预制里找到打印到控制台节点把迭代的结果连接上：

![](https://pic1.zhimg.com/v2-5e38b3bd230b7c891044f56f2484c750_r.jpg)

在脚本里找到控制台：

![](https://pic3.zhimg.com/v2-e1b5819103f5db837218ee08a95eb616_r.jpg)

逐帧播放你就会看到每一帧输出的信息均是0到143拢共144个信息：

![](https://pic2.zhimg.com/v2-908783e47f3e54972753b5c078d91929_r.jpg)

接下来我们要做的就是再复制一个数据节点，克隆对象正常连接上，让迭代节点的循环结果输出给索引，同时在输出端口把位置调出来：

![](https://pic3.zhimg.com/v2-e6f9fc283646ce7c9af728ce463d0046_r.jpg)

再新增一个点节点，输入端口增加点位置，把数据的位置连接到点位置上，迭代输出的结果同时也连接给点索引，再把平面拖进来连接给对象：

![](https://pic2.zhimg.com/v2-50bd072e3b11e373314a8262d4f8d47d_r.jpg)

回到C4D界面里，检查一下，平面的动态就成功匹配上了：

![](https://pic4.zhimg.com/v2-82705f264edf4e95120d4140cfaed70f_r.jpg)

不仅如此，布料的形态你还可以通过修改柔体标签里的参数来控制，我这里直接把我自己的参数弄出HUD来，供大家参考，就不再多赘述了：

![](https://pic3.zhimg.com/v2-922f6bdf34c92e261a2c40101c34cd9e_r.jpg)

添加细分曲面和布料增加厚度：

![](https://pic2.zhimg.com/v2-b859f92cf9dc5476ab1ffbd6d9975ed1_r.jpg)

前面提到了平面的位置可以带动布料动起来，你可以手动K，我这里直接用的GSG的Signal插件，今天的内容不是为了介绍插件的使用，所以也就不再赘述了：

![](https://pic4.zhimg.com/v2-674a6b9ce56cd55b13131d3992f0967f_r.jpg)

新建克隆克隆球体，随机效果器随机球体大小，添加刚体标签，让它与布料产生碰撞，这个也不用多说了吧：

![](https://pic4.zhimg.com/v2-6f57f7d35581500845723577f4d71c23_r.jpg)

新建摄像机固定视角不用说了哈，建议是把动力学烘焙一下，避免每次模拟的样子不一样：

![](https://pic4.zhimg.com/v2-08c37dd16a69d771afcc2240ca08a517_r.jpg)

打开RS，给摄像机添加RS摄像机标签，新建HDRI环境光：

![](https://pic2.zhimg.com/v2-66757c9ace839af019adc31735dabe59_r.jpg)

再次说明一下，我用RS是胡乱渲染的啊，大家可以根据自己的情况来，我这里先在设置里把GI打开：

![](https://pic3.zhimg.com/v2-21026e5f1733b7b5d510db374b00f672_r.jpg)

布料的材质我是新建了一个渐变节点连接到背光的颜色上，然后适当的加了点反射粗糙：

![](https://pic3.zhimg.com/v2-33424461c60301b3224aef3373502c42_r.jpg)

小球的材质我是用一个颜色数据节点，将它改为几何体ID颜色，连接到漫射颜色上，这样每个效果的颜色就都不一样了：

![](https://pic4.zhimg.com/v2-7376bbf56806ccf4cd51af09cae98437_r.jpg)

然后再通过一个渐变节点去更改颜色，至于反射的粗糙那些，大家就看着效果来了哈：

![](https://pic3.zhimg.com/v2-dd8954c7f51865b44874992715734ed6_r.jpg)

另外我还希望有一些金属小球，所以克隆下面就多复制了几个球体出来，金属材质直接用的RS的金属预设就行：

![](https://pic4.zhimg.com/v2-90e43c8d55d8df6cbb757b5ff0cf55d3_r.jpg)

视情况再补一盏灯吧，感觉就差不多了，不过现在有很多噪点：

![](https://pic4.zhimg.com/v2-40e34af81d309b635afcb74f6c0356b7_r.jpg)

渲染设置里将降噪打开，噪点就少很多了：

![](https://pic1.zhimg.com/v2-682ce110149f025a6c17d53b28bdd804_r.jpg)

**我希望的是渲染出透明背景，后期在AE里添加运动模糊和渐变背景。**

之前一直不知道RS怎么导出透明背景，现在终于知道了，在环境光里把背景可见取消，然后勾选Alpha通道：

![](https://pic1.zhimg.com/v2-bebce5ca2baa0e0c4baa84aba08c0200_r.jpg)

保存位置里选择EXR或者PNG格式都行，同样勾选Alpha通道：

![](https://pic4.zhimg.com/v2-1507f25c9ca925ec856dc62546314313_r.jpg)

如果你想要导出的分层是透明背景也是可以的，在通道管理器里，把数据类型改为RGBA就可以了：

![](https://pic2.zhimg.com/v2-24e4a81ac5a8929eac01909b86f6a491_r.jpg)

渲染总时长不到3小时，感觉还行：

![](https://pic1.zhimg.com/v2-85349a56eb1742d7cfc082aa0e4deed8_r.jpg)

最后渲染出图看看效果吧：

![](undefined)

今天的内容主要还是动画的制作思路，所以渲染方面大家基本可以略过，下面是今天的视频版：

[](https://www.zhihu.com/zvideo/1306982017109098496)

好啦，今天的内容就到这里，想要源文件、原视频的童鞋后台**撩我**获取吧！

更多内容欢迎关注公众号：

公众号：野鹿志

老鹿微信：maluyelang6661

苦七微信：766057766

本文由“野鹿志”发布

转载前请联系马鹿野郎

私转必究