![](https://pic4.zhimg.com/v2-35fdeeca048791fd7ee67cf7e615711f_r.jpg)

**最近生意不怎么好，闲来的时间就多学点多写点吧，今天要分享的内容其实是在写前面一篇液体烟雾的时候发现的问题。**

制作过程中因为我希望后期更换背景颜色制作出无限地面的感觉，所以我使用了一个阴影捕捉节点：

![](https://pic4.zhimg.com/v2-96425e852bd7a39939e169f9969a61bf_r.jpg)

而之前在写关于C4D地面的文章中，曾经有简单提到过一句rs使用对象标签的蒙板制作无限地面的方法：

![](https://pic3.zhimg.com/v2-f891c94e26b9ca2411a65a59ec910f9a_r.jpg)

这种方法也是官方推荐的方法，官方文档中也有明确的提到使用阴影捕捉节点的方式已经弃用，建议大家使用对象标签的蒙板：

![](https://pic2.zhimg.com/v2-af02e5fabe8234ff7ab0db452c822199_r.jpg)

而我在实际操作中发现使用对象标签蒙板来捕捉投影有一定的弊端‘。

**目前尚不清楚是不是rs版本的问题，我这里使用的欢乐版2.6.41，使用正版的鹿友有兴趣可以测试一下。**

所以今天希望展开来分享一下，各位鹿友可以根据自己的需求来选择不同的方式制作无限地面。

![](https://pic2.zhimg.com/v2-29972d51c8ff091e19931910625efd1d_r.jpg)

如图所示是一个非常简单的场景，一个对象放在一个大大的平面上，然后添加了一个HDRI环境光：

![](https://pic3.zhimg.com/v2-dccbc98519c4687e5ebf6e267c295b5e_r.jpg)

首先按照官方推荐的方法给平面添加对象标签，勾选覆盖勾选启用，这个时候平面就没有了：

![](https://pic1.zhimg.com/v2-2d353b6d71baca3fb110de678b4d5bbc_r.jpg)

由于我个人习惯是在AE或者PS里后期添加纯色背景，所以需要回到HDRI环境光里取消显示背景，勾选透明通道，这一步其实我一般在添加环境光的时候就会操作：

![](https://pic2.zhimg.com/v2-62eaded6ad8ccf0ea1bc150312ce1b9d_r.jpg)

如果你需要平面接收投影就需要回到对象标签里去勾选启用投影：

![](https://pic4.zhimg.com/v2-413f96d7d85cf380c1a5c6b584b924ff_r.jpg)

**但是仅仅是这样才做是不行的，我们直接渲染一张图放进AE里看大家就明白了。**

如图所示，渲染出来的平面是不具备透明通道的，这样就没有办法实现更换纯色背景了，且由于投影本来也是黑色的，所以即使把黑色的平面抠掉也没有意义：

![](https://pic4.zhimg.com/v2-df89e90173cdffc7ac74124957efe54f_r.jpg)

因此如果你希望只保留阴影去掉平面的话就需要在对象标签中勾选影响透明通道：

![](https://pic3.zhimg.com/v2-2a4365b8554b178a6a1f9e93f1a5643e_r.jpg)

这样在AE里操作就是保留了投影且去掉了平面的状态：

![](https://pic3.zhimg.com/v2-e95ca36e704f21dbcee4cc817b1f460a_r.jpg)

后期想要随时更换背景颜色也非常方便：

![](https://pic3.zhimg.com/v2-6fbd1c67ccc4d24bb65e58807acfdee6_r.jpg)

**但这只是针对于最简单的情况，倘若地面是有反射或者折射信息的就会出现一些问题。**

为了方便观察，我这里给了人物模型一个普通的红色材质，然后给了地面一个高反射材质：

![](https://pic1.zhimg.com/v2-83181402f10e09ee9679e2c2cf475b14_r.jpg)

想要显示出地面的反射信息，我们就需要回到对象标签里把反射的尺寸提高，这样就能看到地面的反射了：

![](https://pic3.zhimg.com/v2-c42270af1717b0831da6342ea6041eb2_r.jpg)

但是需要注意的是，你现在看到的是假象，我们直接把它渲染出来，在C4D渲染视图查看器里显示也是正常的：

![](https://pic1.zhimg.com/v2-8c93d01b38f3b56ca42657ebbbe22aa4_r.jpg)

但你实际渲染出来的图片导入AE是这样的：

![](https://pic3.zhimg.com/v2-b28613de3f07e8df5b823203ff2e76ea_r.jpg)

**地面反射的信息在我们搞掉地面的同时也被搞掉了，现在只有投影。**

那我们如果回到对象标签取消勾选影响透明通道会怎么样呢，C4D渲染视图查看器看起来是正常的：

![](https://pic1.zhimg.com/v2-6fc997cd74004a294b2259a284595660_r.jpg)

但是导入AE它又是这样的，反射倒是有了，平面也出来了，抠掉平面投影又没了：

![](https://pic4.zhimg.com/v2-c559a42a9711f489d34e802fbf4c62c3_r.jpg)

因此使用对象标签蒙板的方式，如果你想要渲染一个带有投影以及反射信息的无限地面只能这么操作。

**首先保证对象标签里的影响投影取消勾选，回到HDRI环境光里，勾选启用背景同时取消勾选透明通道。**

然后勾选启用背板，通过这个地方载入一张纯色图片或者是实景照片：

![](https://pic2.zhimg.com/v2-2bda5b643f92b0e6317d4a035a0173c9_r.jpg)

这样渲染保存出去的图片就是一张纯色同时带有投影以及反射的图片：

![](https://pic4.zhimg.com/v2-7923f73ed4bcb64981b170c60f19f037_r.jpg)

使用这种方法如果你希望更换背景颜色就只有把背景抠掉，但是颜色信息多少也会有一些丢失：

![](https://pic4.zhimg.com/v2-d2b2bc4fe39fefd797063becdd3d6917_r.jpg)

我们再来看看使用阴影捕捉节点的方式，新建一个材质球给平面，添加阴影捕捉节点，让它直接连接到输出端：

![](https://pic3.zhimg.com/v2-caf0e37fe1801f3390c923c83e6dbcaa_r.jpg)

默认情况下捕捉投影就是开启的，透明通道也开启了，在IPR里切换到透明通道就可以看到：

![](https://pic4.zhimg.com/v2-46a9851ef76c2e86e97a7cf66a7abb4f_r.jpg)

如果你希望能够接受反射就直接启用接受反射就可以了：

![](https://pic4.zhimg.com/v2-e1a6107aaa985143917fd3c2c08c055f_r.jpg)

这样渲染出去的图就一张正常带透明通道且带有反射以及投影的图片，更换背景颜色就非常方便了：

![](https://pic1.zhimg.com/v2-ef6c0441a6dbefb8fda5eff6a1fbfa54_r.jpg)

反射的强度、粗糙度，衰减都可以在材质里进行调整：

![](https://pic2.zhimg.com/v2-6ea44ea2127b923a5f8cebef945c2b69_r.jpg)

另外例如我这里打了一盏灯光，同时开启了GI：

![](https://pic3.zhimg.com/v2-c2090c210c64de2264b477ea87a5018e_r.jpg)

你还可以在材质里开启接受次级光线：

![](https://pic2.zhimg.com/v2-abfd1b6a9291422229ef380b8f7e92ad_r.jpg)

不过阴影捕捉节点没有接收折射的选项，所以如果你还有接收折射的需求，那就还是只能用对象标签蒙板：

![](https://pic2.zhimg.com/v2-5e81381afa27a0390dd52026422c53dd_r.jpg)

最后总结一下：

**1、如果你仅仅使用地面来接收投影，那么推荐使用对象标签蒙板的方式。**

**2、如果你想要地面同时接收投影和反射，那么我推荐使用阴影捕捉节点的方式。**

**3、如果你想要地面接收折射，那么就只能选择对象标签蒙板。**

以上纯粹是我在学习中的个人建议，至于官方为什么只推荐使用对象标签蒙板的方式，我想自然是有它的道理，可能是目前还没有完全开发好，又或者是我研究的不够深入有些情况没遇到。

下面是今天的视频版：

[](https://www.zhihu.com/zvideo/1355128371031044096)

好啦，今天所有的内容就到这里，想要原视频的童鞋后台**撩我**获取吧！

更多内容欢迎关注公众号

公众号：野鹿志

老鹿微信：maluyelang6661

苦七微信：766057766

本文由“野鹿志”发布

转载前请联系马鹿野郎

私转必究